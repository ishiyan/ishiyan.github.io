"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[928],{9928:(B,R,r)=>{r.r(R),r.d(R,{SmaModule:()=>j});var g=r(1368),d=r(6504),O=r(768),b=r(7536),E=r(7816),u=r(1560),f=r(4168),I=r(7760),v=r(6232),s=r(7868),L=r(1416),_=r(2992),G=r(4468),e=r(4496),A=r(832);function q(n,l){if(1&n){const a=e.KQA();e.I0R(0,"mb-line-style-selector",3),e.qCj("selectionChange",function(t){e.usT(a);const o=e.GaO();return e.CGJ(o.updateStyle(t))}),e.C$Y()}if(2&n){const a=e.GaO();e.E7m("initial",a.current.style)("label","Line")}}let P=(()=>{class n{constructor(){this.removed=new e._w7,this.changed=new e._w7}set initial(a){this.current=a}updateStyle(a){this.current.style=a,this.changed.emit(this.current)}updateParams(a){this.current.params=a,this.changed.emit(this.current)}remove(){this.removed.emit(this.current)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-sma-params"]],inputs:{initial:"initial"},outputs:{removed:"removed",changed:"changed"},decls:6,vars:2,consts:[["mat-icon-button","","color","warn",3,"click"],[3,"initial","selectionChange"],[3,"initial","label","selectionChange",4,"ngIf"],[3,"initial","label","selectionChange"]],template:function(i,t){1&i&&(e.I0R(0,"div")(1,"button",0),e.qCj("click",function(){return t.remove()}),e.I0R(2,"mat-icon"),e.OEk(3,"delete"),e.C$Y()(),e.I0R(4,"mb-simple-moving-average-params",1),e.qCj("selectionChange",function(m){return t.updateParams(m)}),e.C$Y(),e.yuY(5,q,1,2,"mb-line-style-selector",2),e.C$Y()),2&i&&(e.yG2(4),e.E7m("initial",t.current.params),e.yG2(),e.E7m("ngIf",t.current.showStyle))},dependencies:[g.u_,E.um,u.qL,s.y8A,s.Wou],changeDetection:0})}return n})();function F(n,l){if(1&n){const a=e.KQA();e.I0R(0,"app-sma-params",2),e.qCj("changed",function(t){e.usT(a);const o=e.GaO();return e.CGJ(o.updated(t))})("removed",function(t){e.usT(a);const o=e.GaO();return e.CGJ(o.removed(t))}),e.C$Y()}2&n&&e.E7m("initial",l.$implicit)}const T=()=>{const n=new s.AtK;return n.color="",n.width=1.5,n.dash="",n.interpolation="camullRom",n},Y=(n,l,a)=>({params:{length:l,barComponent:a},style:T(),showStyle:n});let M=(()=>{class n{constructor(){this.changed=new e._w7,this.smaArray=[],this.colorArray=["#ff0000"],this.initialized=!1}set initial(a){const i=[];for(let t=0;t<a.length.length;t++){const o=Y(a.showStyle,a.length[t],a.barComponent);o.style.color=this.colorArray[t%this.colorArray.length],i.push(o)}this.smaArray=i,this.defaultBarComponent=a.barComponent}set colors(a){if(a&&a.length>0){const i=[];this.colorArray=a;for(let t=0;t<this.smaArray.length;t++){const o={...this.smaArray[t]};o.style.color=a[t%a.length],i.push(o)}this.smaArray=i}}ngAfterViewInit(){this.initialized=!0,this.changed.emit(this.smaArray)}add(){const a=this.getShowStyle(),i=Y(a,this.getLastLength()+5,this.defaultBarComponent);a&&(i.style.color=this.colorArray[this.smaArray.length%this.colorArray.length]),this.smaArray.push(i),this.smaArray=[...this.smaArray],this.notify()}updated(a){this.getIndex(a)>=0&&this.notify()}removed(a){const i=this.getIndex(a);i>=0&&(this.smaArray.splice(i,1),this.smaArray=[...this.smaArray],this.notify())}getLastLength(){const a=this.smaArray.length-1;return a<0?0:this.smaArray[a].params.length}getShowStyle(){return!(this.smaArray.length<=0)&&this.smaArray[0].showStyle}getIndex(a){for(let i=0;i<this.smaArray.length;i++)if(this.smaArray[i]===a)return i;return-1}notify(){this.initialized&&this.changed.emit(this.smaArray)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-sma-list"]],inputs:{initial:"initial",colors:"colors"},outputs:{changed:"changed"},decls:5,vars:1,consts:[[3,"initial","changed","removed",4,"ngFor","ngForOf"],["mat-mini-fab","","color","primary",3,"click"],[3,"initial","changed","removed"]],template:function(i,t){1&i&&(e.yuY(0,F,1,1,"app-sma-params",0),e.I0R(1,"div")(2,"button",1),e.qCj("click",function(){return t.add()}),e.I0R(3,"mat-icon"),e.OEk(4,"add"),e.C$Y()()()),2&i&&e.E7m("ngForOf",t.smaArray)},dependencies:[g.ay,E.CI,u.qL,P]})}return n})();function N(n,l){if(1&n){const a=e.KQA();e.I0R(0,"mat-expansion-panel",15)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon"),e.OEk(4,"tune"),e.C$Y()()(),e.I0R(5,"mb-swatches-select",16),e.qCj("selectionChange",function(t){e.usT(a);const o=e.GaO();return e.CGJ(o.indicatorPaletteChanged(t))}),e.C$Y(),e.I0R(6,"app-sma-list",17),e.qCj("changed",function(t){e.usT(a);const o=e.GaO();return e.CGJ(o.indicatorsChanged(t))}),e.C$Y()()}if(2&n){const a=e.GaO();e.yG2(5),e.E7m("selected",a.selectedIndex)("colors",a.palettes)("label","Palette"),e.yG2(),e.E7m("initial",a.initialIndicators)("colors",a.selectedPalette)}}function H(n,l){if(1&n&&(e.I0R(0,"span")(1,"a",18),e.OEk(2),e.C$Y()()),2&n){const a=e.GaO();e.yG2(),e._6D("href",a.dataSelection.url,e.K6U),e.yG2(),e.cNF(a.dataSelection.urlName)}}function D(n,l){if(1&n){const a=e.KQA();e.I0R(0,"mat-expansion-panel",15)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon"),e.OEk(4,"tune"),e.C$Y()()(),e.I0R(5,"mat-form-field",19)(6,"mat-label"),e.OEk(7,"Max period to display"),e.C$Y(),e.I0R(8,"input",20),e.iHE("ngModelChange",function(t){e.usT(a);const o=e.GaO();return e.kNx(o.maxPeriod,t)||(o.maxPeriod=t),e.CGJ(t)}),e.C$Y()(),e.I0R(9,"mat-form-field",19)(10,"mat-label"),e.OEk(11,"Height"),e.C$Y(),e.I0R(12,"input",21),e.iHE("ngModelChange",function(t){e.usT(a);const o=e.GaO();return e.kNx(o.freqsH,t)||(o.freqsH=t),e.CGJ(t)}),e.C$Y()(),e.I0R(13,"app-sma-list",22),e.qCj("changed",function(t){e.usT(a);const o=e.GaO();return e.CGJ(o.freqsChanged(t))}),e.C$Y()()}if(2&n){const a=e.GaO();e.yG2(8),e.OKB("ngModel",a.maxPeriod),e.yG2(4),e.OKB("ngModel",a.freqsH),e.yG2(),e.E7m("initial",a.initialFreqs)}}const h=(n,l,a)=>[n,l,a],c=4096,z=(n,l,a)=>{const i=[],t=(0,s._Ir)(a);for(const o of n)i.push({time:o.time,value:l.update(t(o))});return i},V=(n,l,a)=>{const i=(0,s._Ir)(a),t=i(n[0]);for(;!l.isPrimed;)l.update(t);const o=[];for(const m of n)o.push({time:m.time,value:l.update(i(m))});return o},U=[{path:"",component:(()=>{class n{constructor(){this.indicators=[],this.initialized=!1,this.selectedIndex=0,this.initialIndicators={length:[5,10,20],barComponent:s.K2r.Median,showStyle:!0},this.initialFreqs={length:[5,10,20],showStyle:!1},this.palettes=(0,s.cp0)(this.initialIndicators.length.length),this.selectedPalette=this.palettes[this.selectedIndex],this.smaNote=G.qY,this.froaiNote=G.q2,this.freqs=[],this.freqsMaxPeriod=40,this.freqsHeight=300,this.unlocked=!0,this.dataStepUp=(0,s.uWm)(10,32,90,96,1),this.dataStepDn=(0,s.uWm)(90,32,10,96,1),this.sma2=s.O6v.calculate(c,new s.OQl({length:2}),4),this.sma3=s.O6v.calculate(c,new s.OQl({length:3}),6),this.sma4=s.O6v.calculate(c,new s.OQl({length:4}),8,44),this.sma5=s.O6v.calculate(c,new s.OQl({length:5}),10),this.sma6=s.O6v.calculate(c,new s.OQl({length:6}),12),this.sma7=s.O6v.calculate(c,new s.OQl({length:7}),14),this.sma10=s.O6v.calculate(c,new s.OQl({length:10}),20),this.sma20=s.O6v.calculate(c,new s.OQl({length:20}),40,13)}get maxPeriod(){return this.freqsMaxPeriod}set maxPeriod(a){(!a||a<2)&&(a=2),this.freqsMaxPeriod=a,this.freqs.length>0&&(this.freqs=[...this.freqs])}get freqsH(){return this.freqsHeight}set freqsH(a){this.freqsHeight=a,this.freqs.length>0&&(this.freqs=[...this.freqs])}get unLocked(){return this.unlocked}set unLocked(a){this.unlocked=a,this.render()}ngAfterViewInit(){this.initialized=!0,this.unlocked=!1,this.render()}indicatorPaletteChanged(a){this.selectedIndex=this.palettes.indexOf(a),this.selectedPalette=a}indicatorsChanged(a){const i=a.length>2?a.length:2;i!==this.selectedPalette.length&&(this.palettes=(0,s.cp0)(i),this.selectedIndex>=i&&(this.selectedIndex=0),this.selectedPalette=this.palettes[this.selectedIndex]),this.indicators=a,this.render()}freqsChanged(a){const i=[];for(const t of a){const o=t.params.length,m=s.O6v.calculate(c,new s.OQl({length:o}),2*o,43);i.push(m)}this.freqs=i}dataSelectionChanged(a){this.dataSelection=a,this.render()}render(){this.initialized&&(this.configuration=this.prepareConfig(this.dataSelection.mnemonic,this.dataSelection.data,!1),this.configurationStepUp=this.prepareConfig("",this.dataStepUp,!0),this.configurationStepDn=this.prepareConfig("",this.dataStepDn,!0))}prepareConfig(a,i,t){const o={width:"100%",widthMin:360,navigationPane:{height:30,heightMin:30,heightMax:30,hasLine:!1,hasArea:!0,hasTimeAxis:!1,timeTicks:0},heightNavigationPane:30,timeAnnotationFormat:"%Y-%m-%d",axisLeft:!0,axisRight:!1,margin:{left:0,top:10,right:20,bottom:0},ohlcv:{name:"",data:[],candlesticks:!1},pricePane:{height:"30%",heightMin:300,heightMax:800,valueMarginPercentageFactor:.01,valueFormat:",.2f",bands:[],lineAreas:[],horizontals:[],arrows:[],lines:[]},indicatorPanes:[],crosshair:!1,volumeInPricePane:!1,menuVisible:!0,downloadSvgVisible:!0};o.menuVisible=this.unlocked,o.ohlcv.name=a,o.ohlcv.data=i;for(const m of this.indicators){const x=m.params.barComponent?m.params.barComponent:s.K2r.Close,C=new s.OQl(m.params),p=new s.mcC;p.name=C.getMnemonic(),p.data=t?V(i,C,x):z(i,C,x);const y=m.style;p.color=y.color,p.width=y.width,p.dash=y.dash,p.interpolation=y.interpolation,o.pricePane.lines.push(p)}return o}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-ind-sma"]],decls:356,vars:202,consts:[[1,"slide-toggle",3,"color","ngModel","ngModelChange"],[1,"icon"],["label","",3,"selectionChange"],[1,"figwide"],[1,"ohlcv-chart-study",3,"configuration"],["expanded","false","style","margin-bottom: 1em;",4,"ngIf"],[4,"ngIf"],[2,"width","100%"],[3,"href"],[3,"subfig","width","height","ymode","xmode","maxPeriod","data","settingsPanelVisible"],[3,"subfig","width","height","ymode","xmode","data","settingsPanelVisible"],[1,"counter-skip"],["href","https://books.google.com/books?id=JokQD5nK4LMC","target","_blank"],["href","https://books.google.com/books?id=q9Q6EAAAQBAJ","target","_blank"],["href","https://books.google.com/books?id=EaMuAAAAQBAJ","target","_blank"],["expanded","false",2,"margin-bottom","1em"],[2,"vertical-align","bottom",3,"selected","colors","label","selectionChange"],[3,"initial","colors","changed"],["target","_blank",3,"href"],["appearance","fill"],["matInput","","type","number","min","8","max","1024","step","1",3,"ngModel","ngModelChange"],["matInput","","type","number","min","100","max","1024","step","1",3,"ngModel","ngModelChange"],[3,"initial","changed"]],template:function(i,t){1&i&&(e.I0R(0,"h1"),e.OEk(1),e.C$Y(),e.I0R(2,"mat-slide-toggle",0),e.iHE("ngModelChange",function(m){return e.kNx(t.unLocked,m)||(t.unLocked=m),m}),e.I0R(3,"mat-icon",1),e.OEk(4,"tune"),e.C$Y()(),e.I0R(5,"app-bar-series-select",2),e.qCj("selectionChange",function(m){return t.dataSelectionChanged(m)}),e.C$Y(),e.I0R(6,"figure",3),e.wR5(7,"mb-ohlcv-chart",4),e.yuY(8,N,7,5,"mat-expansion-panel",5),e.I0R(9,"figcaption"),e.OEk(10),e.yuY(11,H,3,2,"span",6),e.C$Y()(),e.wR5(12,"p"),e.I0R(13,"div",7),e.OEk(14," A Simple Moving Average (SMA) of length "),e.I0R(15,"mb-ki"),e.OEk(16,"L \\ge 2"),e.C$Y(),e.OEk(17," is the arithmetic mean of the last "),e.I0R(18,"mb-ki"),e.OEk(19,"L"),e.C$Y(),e.OEk(20," observations of a series "),e.I0R(21,"mb-ki"),e.OEk(22),e.C$Y(),e.OEk(23,", where "),e.I0R(24,"mb-ki"),e.OEk(25),e.C$Y(),e.OEk(26," is the most recent value and "),e.I0R(27,"mb-ki"),e.OEk(28,"k \\ge L"),e.C$Y(),e.OEk(29,": "),e.I0R(30,"mb-kd"),e.OEk(31),e.C$Y(),e.OEk(32," When a next sample "),e.I0R(33,"mb-ki"),e.OEk(34),e.C$Y(),e.OEk(35," arrives, it will be added to the sum, and the "),e.I0R(36,"mb-ki"),e.OEk(37),e.C$Y(),e.OEk(38," sample will be dropped from the sum. Thus, the window of "),e.I0R(39,"mb-ki"),e.OEk(40,"L"),e.C$Y(),e.OEk(41,' samples "moves", which explains the "moving average" in its name. '),e.wR5(42,"p"),e.OEk(43," When "),e.I0R(44,"mb-ki"),e.OEk(45,"k \\lt L"),e.C$Y(),e.OEk(46,", the equation (1) transforms into a cumulative moving average: "),e.I0R(47,"mb-kd"),e.OEk(48),e.C$Y(),e.OEk(49," Since the effective length "),e.I0R(50,"mb-ki"),e.OEk(51,"k \\lt L"),e.C$Y(),e.OEk(52,', we consider SMA values undefined in this case. A scientific way to say this is "an indicator is not primed". So, the SMA is not primed during the first '),e.I0R(53,"mb-ki"),e.OEk(54),e.C$Y(),e.OEk(55," updates. "),e.wR5(56,"p"),e.OEk(57," The equation (1) can be rewritten in the recurrent form (the "),e.I0R(58,"mb-ki"),e.OEk(59),e.C$Y(),e.OEk(60," is taken out of the summation, the "),e.I0R(61,"mb-ki"),e.OEk(62),e.C$Y(),e.OEk(63," is added and subtracted), which gives an efficient method of SMA calculation: "),e.I0R(64,"mb-kd"),e.OEk(65),e.C$Y(),e.I0R(66,"mb-kd"),e.OEk(67),e.C$Y(),e.wR5(68,"p"),e.OEk(69," From the digital signal processing (DSP) point of view, SMA is a finite impulse response (FIR) filter with all "),e.I0R(70,"mb-ki"),e.OEk(71),e.C$Y(),e.OEk(72," weight coefficients equal: "),e.I0R(73,"mb-kd"),e.OEk(74),e.C$Y(),e.OEk(75," The filter is finite because only a finite number of "),e.I0R(76,"mb-ki"),e.OEk(77),e.C$Y(),e.OEk(78," last samples contribute to its value. "),e.wR5(79,"p"),e.C$Y(),e.I0R(80,"h2"),e.OEk(81,"Step response"),e.C$Y(),e.I0R(82,"div",7),e.OEk(83," Two figures below demonstrate the response of an SMA to the step-up and step-down data. The step transition is clearly linear. Both responses touch the step data with the lag equal to the length "),e.I0R(84,"mb-ki"),e.OEk(85),e.C$Y(),e.OEk(86," of the filter. The step-up response doesn't overshoot and the step-down response doesn't undershoot the data. "),e.wR5(87,"p"),e.C$Y(),e.I0R(88,"figure",3),e.wR5(89,"mb-ohlcv-chart",4),e.I0R(90,"figcaption"),e.OEk(91,"Step-up response."),e.C$Y()(),e.I0R(92,"figure",3),e.wR5(93,"mb-ohlcv-chart",4),e.I0R(94,"figcaption"),e.OEk(95,"Step-down response."),e.C$Y()(),e.wR5(96,"p"),e.I0R(97,"h2"),e.OEk(98,"Frequency response"),e.C$Y(),e.I0R(99,"div",7),e.OEk(100," The figures below show an amplitude and a phase lag of the unit sample response of the SMA as a function of a period of various signal frequencies. "),e.wR5(101,"p"),e.OEk(102," A period is a duration of a cycle in samples. The smallest possible period of a cycle is "),e.I0R(103,"mb-ki"),e.OEk(104),e.C$Y(),e.OEk(105," samples. To understand this, imagine a cycle of a sinusoid which starts at zero, goes up and peaks at "),e.I0R(106,"mb-ki"),e.OEk(107),e.C$Y(),e.OEk(108,", continues down and bottoms at "),e.I0R(109,"mb-ki"),e.OEk(110),e.C$Y(),e.OEk(111,", and then returns back to zero. We need at least two samples (peak and through) to represent a cycle. See more details in the "),e.I0R(112,"a",8),e.OEk(113),e.C$Y(),e.OEk(114,". "),e.wR5(115,"p"),e.OEk(116," The same charts can be represented as a function of a cycle's frequency. A period ("),e.I0R(117,"mb-ki"),e.OEk(118),e.C$Y(),e.OEk(119,") is an inverse of the cycle's frequency ("),e.I0R(120,"mb-ki"),e.OEk(121),e.C$Y(),e.OEk(122,"): "),e.I0R(123,"mb-ki"),e.OEk(124),e.C$Y(),e.OEk(125,". The smallest period "),e.I0R(126,"mb-ki"),e.OEk(127),e.C$Y(),e.OEk(128," corresponds to the Nyquist frequency "),e.I0R(129,"mb-ki"),e.OEk(130),e.C$Y(),e.OEk(131,"which is the highest frequency possible in a signal. Below we use the normalized frequency which has the value of "),e.I0R(132,"mb-ki"),e.OEk(133),e.C$Y(),e.OEk(134," at the Nyquist frequency. That is, "),e.I0R(135,"mb-ki"),e.OEk(136),e.C$Y(),e.OEk(137," corresponds to the infinite "),e.I0R(138,"mb-ki"),e.OEk(139),e.C$Y(),e.OEk(140,", "),e.I0R(141,"mb-ki"),e.OEk(142),e.C$Y(),e.OEk(143," corresponds to the "),e.I0R(144,"mb-ki"),e.OEk(145),e.C$Y(),e.OEk(146,". "),e.wR5(147,"p"),e.C$Y(),e.I0R(148,"figure",3),e.wR5(149,"mb-frequency-response-chart",9)(150,"mb-frequency-response-chart",9),e.yuY(151,D,14,3,"mat-expansion-panel",5),e.I0R(152,"figcaption"),e.OEk(153,"An amplitude (a) and a phase lag (b) as a function of a cycle."),e.C$Y()(),e.wR5(154,"p"),e.I0R(155,"div",7),e.OEk(156," The shape of the amplitude response is different for the even and odd values of "),e.I0R(157,"mb-ki"),e.OEk(158),e.C$Y(),e.OEk(159,". For the even values of "),e.I0R(160,"mb-ki"),e.OEk(161),e.C$Y(),e.OEk(162,", the amplitude decreases to zero for smallest period "),e.I0R(163,"mb-ki"),e.OEk(164),e.C$Y(),e.OEk(165,". For the odd values of "),e.I0R(166,"mb-ki"),e.OEk(167),e.C$Y(),e.OEk(168,", it stays above zero. "),e.wR5(169,"p"),e.OEk(170," The shape of the unwrapped frequency response is linear with respect to a normalized frequency, and is hyperbolic with respect to a period. "),e.wR5(171,"p"),e.OEk(172," This is illusrated in figures below both for the period (in samples) and the normalized frequency. "),e.wR5(173,"p"),e.C$Y(),e.I0R(174,"figure",3),e.wR5(175,"mb-frequency-response-chart",9)(176,"mb-frequency-response-chart",9),e.I0R(177,"figcaption"),e.OEk(178,"An amplitude as a function of a period of a cycle for even (a) and odd (b) SMA length."),e.C$Y()(),e.I0R(179,"figure",3),e.wR5(180,"mb-frequency-response-chart",10)(181,"mb-frequency-response-chart",10),e.I0R(182,"figcaption"),e.OEk(183,"An amplitude as a function of a normalized frequency of a cycle for even (a) and odd (b) SMA length."),e.C$Y()(),e.I0R(184,"figure",3),e.wR5(185,"mb-frequency-response-chart",9)(186,"mb-frequency-response-chart",9),e.I0R(187,"figcaption"),e.OEk(188,"A phase as a function of a period of a wave for even (a) and odd (b) SMA length."),e.C$Y()(),e.I0R(189,"figure",3),e.wR5(190,"mb-frequency-response-chart",10)(191,"mb-frequency-response-chart",10),e.I0R(192,"figcaption"),e.OEk(193,"A phase as a function of a normalized frequency of a wave for even (a) and odd (b) SMA length."),e.C$Y()(),e.wR5(194,"p"),e.I0R(195,"div",7),e.OEk(196," The frequency response of an SMA can be derived analytically (Mak, 2021). "),e.wR5(197,"p"),e.OEk(198," The frequency response function of a discrete-time linear time-invariant (DTLTI) system is the discrete-time Fourier transform (DTFT) of the unit impulse response "),e.I0R(199,"mb-ki"),e.OEk(200),e.C$Y(),e.OEk(201," (Oppenheim et al., 2009): "),e.I0R(202,"mb-kd"),e.OEk(203),e.C$Y(),e.OEk(204," where "),e.I0R(205,"mb-ki"),e.OEk(206),e.C$Y(),e.OEk(207," is an angular frequency (in radians per sample), "),e.I0R(208,"mb-ki"),e.OEk(209),e.C$Y(),e.OEk(210," is a frequency, and "),e.I0R(211,"mb-ki"),e.OEk(212),e.C$Y(),e.OEk(213," is a period of a cycle in samples: "),e.I0R(214,"mb-kd"),e.OEk(215),e.C$Y(),e.OEk(216," The unit impulse response is the output of the SMA when a Kronecker delta function "),e.I0R(217,"mb-kd"),e.OEk(218),e.C$Y(),e.OEk(219," is applied to the input. Since SMA has equal weight coefficients, the unit impulse response can be obtained from equation (3): "),e.I0R(220,"mb-kd"),e.OEk(221),e.C$Y(),e.I0R(222,"mb-kd"),e.OEk(223),e.C$Y(),e.I0R(224,"mb-kd"),e.OEk(225),e.C$Y(),e.OEk(226," Substituting (5) into equation (4) and reducing to the finite sum gives "),e.I0R(227,"mb-kd"),e.OEk(228),e.C$Y(),e.I0R(229,"mb-kd"),e.OEk(230),e.C$Y(),e.OEk(231," To simplify (6), we can recall a sum of geometric series "),e.I0R(232,"mb-kd"),e.OEk(233),e.C$Y(),e.OEk(234," Multiplying both sides by "),e.I0R(235,"mb-ki"),e.OEk(236),e.C$Y(),e.OEk(237," and simplifying "),e.I0R(238,"mb-kd"),e.OEk(239),e.C$Y(),e.I0R(240,"mb-kd"),e.OEk(241),e.C$Y(),e.I0R(242,"mb-kd"),e.OEk(243),e.C$Y(),e.OEk(244," gives a well-known identity for a sum of geometric series (Jeffrey and Dai, 2008, 1.2.2.2): "),e.I0R(245,"mb-kd"),e.OEk(246),e.C$Y(),e.OEk(247," Now we can write the frequency response function as "),e.I0R(248,"mb-kd"),e.OEk(249),e.C$Y(),e.OEk(250," where we have let "),e.I0R(251,"mb-ki"),e.OEk(252),e.C$Y(),e.OEk(253,". At "),e.I0R(254,"mb-ki"),e.OEk(255),e.C$Y(),e.OEk(256," equation (7) is indeterminate, but we can use the De l'H\xf4pital's rule (Jeffrey and Dai, 2008, 1.15.1) "),e.I0R(257,"mb-kd"),e.OEk(258),e.C$Y(),e.OEk(259," to show that "),e.I0R(260,"mb-kd"),e.OEk(261),e.C$Y(),e.I0R(262,"mb-kd"),e.OEk(263),e.C$Y(),e.I0R(264,"mb-kd"),e.OEk(265),e.C$Y(),e.OEk(266," The frequency response "),e.I0R(267,"mb-ki"),e.OEk(268),e.C$Y(),e.OEk(269," is zero when "),e.I0R(270,"mb-kd"),e.OEk(271),e.C$Y(),e.I0R(272,"mb-kd"),e.OEk(273),e.C$Y(),e.I0R(274,"mb-kd"),e.OEk(275),e.C$Y(),e.OEk(276," Thus, "),e.I0R(277,"mb-ki"),e.OEk(278),e.C$Y(),e.OEk(279," is zero at cycle periods "),e.I0R(280,"mb-kd"),e.OEk(281),e.C$Y(),e.OEk(282," Now let's recall the well nown formula for "),e.I0R(283,"mb-ki"),e.OEk(284),e.C$Y(),e.OEk(285,": "),e.I0R(286,"mb-kd"),e.OEk(287),e.C$Y(),e.I0R(288,"mb-kd"),e.OEk(289),e.C$Y(),e.I0R(290,"mb-kd"),e.OEk(291),e.C$Y(),e.I0R(292,"mb-kd"),e.OEk(293),e.C$Y(),e.OEk(294," Equipped with this, we can transform equation (7) into: "),e.I0R(295,"mb-kd"),e.OEk(296),e.C$Y(),e.I0R(297,"mb-kd"),e.OEk(298),e.C$Y(),e.I0R(299,"mb-kd"),e.OEk(300),e.C$Y(),e.I0R(301,"mb-kd"),e.OEk(302),e.C$Y(),e.OEk(303," The magnitude of the frequency response is the modulus of "),e.I0R(304,"mb-ki"),e.OEk(305),e.C$Y(),e.OEk(306,": "),e.I0R(307,"mb-kd"),e.OEk(308),e.C$Y(),e.I0R(309,"mb-kd"),e.OEk(310),e.C$Y(),e.OEk(311," Here "),e.I0R(312,"mb-ki"),e.OEk(313),e.C$Y(),e.OEk(314," is an angular frequency in radians per sample. In terms of cycle period (recall "),e.I0R(315,"mb-ki"),e.OEk(316),e.C$Y(),e.OEk(317,") this will be: "),e.I0R(318,"mb-kd"),e.OEk(319),e.C$Y(),e.OEk(320," The phase (in radians) of the frequency response is the complex argument of the exponent in equation (9): "),e.I0R(321,"mb-kd"),e.OEk(322),e.C$Y(),e.I0R(323,"mb-kd"),e.OEk(324),e.C$Y(),e.OEk(325," And, finally, the number of samples lagging behind the signal is independent of angular frequency "),e.I0R(326,"mb-ki"),e.OEk(327),e.C$Y(),e.OEk(328,": "),e.I0R(329,"mb-kd"),e.OEk(330),e.C$Y(),e.wR5(331,"p"),e.C$Y(),e.wR5(332,"hr"),e.I0R(333,"h2",11),e.OEk(334,"References"),e.C$Y(),e.I0R(335,"div"),e.OEk(336," Jeffrey, A., & Dai, H. H. (2008). "),e.I0R(337,"em"),e.OEk(338,"Handbook of mathematical formulas and integrals"),e.C$Y(),e.OEk(339,". (4th ed., p. 592). San Diego, CA: Elsevier/Academic Press. "),e.I0R(340,"a",12),e.OEk(341,"google books"),e.C$Y()(),e.I0R(342,"div"),e.OEk(343,"Mak, D. K. (2021). "),e.I0R(344,"em"),e.OEk(345,"Trading Tactics in the Financial Market: Mathematical Methods to Improve Performance"),e.C$Y(),e.OEk(346," (p. ix+269). doi:10.1007/978-3-030-70622-7 "),e.I0R(347,"a",13),e.OEk(348,"google books"),e.C$Y()(),e.I0R(349,"div"),e.OEk(350,"Oppenheim, A. V., Schafer, R. W., Yoder, M. A., & Padgett, W. T. (2009). "),e.I0R(351,"em"),e.OEk(352,"Discrete-time signal processing"),e.C$Y(),e.OEk(353,". (3rd ed., p. 1120). Upper Saddle River, NJ: Pearson. "),e.I0R(354,"a",14),e.OEk(355,"google books"),e.C$Y()()),2&i&&(e.yG2(),e.cNF(t.smaNote.title),e.yG2(),e.E7m("color","primary"),e.OKB("ngModel",t.unLocked),e.yG2(5),e.E7m("configuration",t.configuration),e.yG2(),e.E7m("ngIf",t.unlocked),e.yG2(2),e.oRS("",t.dataSelection.description,". "),e.yG2(),e.E7m("ngIf",t.dataSelection.url),e.yG2(11),e.cNF("x_{1},\\, x_{2},\\, x_{3},\\,\\ldots\\,,\\, x_{k}"),e.yG2(3),e.cNF("x_{k}"),e.yG2(6),e.cNF("\\tag*{(1)}sma_{k}=\\frac{1}{L}\\sum_{m=1}^{L}x_{k-L+m}"),e.yG2(3),e.cNF("x_{k+1}"),e.yG2(3),e.cNF("x_{k-L}"),e.yG2(11),e.cNF("\\tag*{}sma_{k}=\\frac{1}{k}\\sum_{m=1}^{k}x_{m}"),e.yG2(6),e.cNF("L-1"),e.yG2(5),e.cNF("x_{k}"),e.yG2(3),e.cNF("x_{k-L}"),e.yG2(3),e.oRS(" ","\\tag*{}sma_{k}=\\frac{1}{L}\\left[x_{k}+\\sum_{m=k-L}^{k-1}x_{m}-x_{k-L}\\right]"," "),e.yG2(2),e.oRS(" ","\\tag*{(2)}=sma_{k-1}+\\frac{x_{k}-x_{k-L}}{L}"," "),e.yG2(4),e.cNF("L"),e.yG2(3),e.oRS(" ","\\tag*{(3)}sma_{k}=\\sum_{m=1}^{L}w_{m}x_{k-m+1},\\ k\\ge L,\\ \\forall m\\ w_{m}=\\frac{1}{L}"," "),e.yG2(3),e.cNF("L"),e.yG2(8),e.cNF("L"),e.yG2(4),e.E7m("configuration",t.configurationStepUp),e.yG2(4),e.E7m("configuration",t.configurationStepDn),e.yG2(11),e.cNF("2"),e.yG2(3),e.cNF("1"),e.yG2(3),e.cNF("-1"),e.yG2(2),e.CI5("href","/",t.froaiNote.route,"",e.K6U),e.yG2(),e.cNF(t.froaiNote.title),e.yG2(5),e.cNF("\\tau"),e.yG2(3),e.cNF("\\nu"),e.yG2(3),e.cNF("\\tau = \\frac{1}{\\nu}"),e.yG2(3),e.cNF("\\tau = 2"),e.yG2(3),e.cNF("\\nu = \\frac{1}{\\tau} = \\frac{1}{2}"),e.yG2(3),e.cNF("1"),e.yG2(3),e.cNF("0"),e.yG2(3),e.cNF("\\tau"),e.yG2(3),e.cNF("1"),e.yG2(3),e.cNF("\\tau = 2"),e.yG2(4),e.E7m("subfig","(a)")("width","100%")("height",t.freqsH)("ymode","amplitudePct")("xmode","frequency")("maxPeriod",t.maxPeriod)("data",t.freqs)("settingsPanelVisible",t.unlocked),e.yG2(),e.E7m("subfig","(b)")("width","100%")("height",t.freqsH)("ymode","phaseDegUnwrapped")("xmode","frequency")("maxPeriod",t.maxPeriod)("data",t.freqs)("settingsPanelVisible",t.unlocked),e.yG2(),e.E7m("ngIf",t.unlocked),e.yG2(7),e.cNF("L"),e.yG2(3),e.cNF("L"),e.yG2(3),e.cNF("\\tau = 2"),e.yG2(3),e.cNF("L"),e.yG2(8),e.E7m("subfig","(a)")("width","100%")("height",200)("ymode","amplitudePct")("xmode","period")("maxPeriod",40)("data",e.uAc(170,h,t.sma2,t.sma4,t.sma6))("settingsPanelVisible",t.unlocked),e.yG2(),e.E7m("subfig","(b)")("width","100%")("height",200)("ymode","amplitudePct")("xmode","period")("maxPeriod",40)("data",e.uAc(174,h,t.sma3,t.sma5,t.sma7))("settingsPanelVisible",t.unlocked),e.yG2(4),e.E7m("subfig","(a)")("width","100%")("height",200)("ymode","amplitudePct")("xmode","frequency")("data",e.uAc(178,h,t.sma2,t.sma4,t.sma6))("settingsPanelVisible",t.unlocked),e.yG2(),e.E7m("subfig","(b)")("width","100%")("height",200)("ymode","amplitudePct")("xmode","frequency")("data",e.uAc(182,h,t.sma3,t.sma5,t.sma7))("settingsPanelVisible",t.unlocked),e.yG2(4),e.E7m("subfig","(a)")("width","100%")("height",200)("ymode","phaseDegUnwrapped")("xmode","period")("maxPeriod",40)("data",e.uAc(186,h,t.sma2,t.sma4,t.sma6))("settingsPanelVisible",t.unlocked),e.yG2(),e.E7m("subfig","(b)")("width","100%")("height",200)("ymode","phaseDegUnwrapped")("xmode","period")("maxPeriod",40)("data",e.uAc(190,h,t.sma3,t.sma5,t.sma7))("settingsPanelVisible",t.unlocked),e.yG2(4),e.E7m("subfig","(a)")("width","100%")("height",200)("ymode","phaseDegUnwrapped")("xmode","frequency")("data",e.uAc(194,h,t.sma2,t.sma4,t.sma6))("settingsPanelVisible",t.unlocked),e.yG2(),e.E7m("subfig","(b)")("width","100%")("height",200)("ymode","phaseDegUnwrapped")("xmode","frequency")("data",e.uAc(198,h,t.sma3,t.sma5,t.sma7))("settingsPanelVisible",t.unlocked),e.yG2(9),e.cNF("h(k)"),e.yG2(3),e.oRS(" ","\\tag*{(4)}H(\\omega)=\\sum_{k=-\\infty}^{\\infty}h(k)\\exp(-i k \\omega)"," "),e.yG2(3),e.cNF("\\omega"),e.yG2(3),e.cNF("\\nu"),e.yG2(3),e.cNF("\\tau"),e.yG2(3),e.oRS(" ","\\tag*{}\\omega = 2\\pi\\nu = \\frac{2\\pi}{\\tau}"," "),e.yG2(3),e.oRS(" ","\\tag*{}\\delta[k] = \\begin{cases} 1, & k=0 \\\\ 0, & k \\neq 0 \\end{cases}"," "),e.yG2(3),e.oRS(" ","\\tag*{}h(k)=\\sum_{m=0}^{L-1}w_m\\delta[k-m]"," "),e.yG2(2),e.oRS(" ","\\tag*{}=\\frac{1}{l}\\sum_{m=0}^{L-1}\\delta[k-m]"," "),e.yG2(2),e.oRS(" ","\\tag*{(5)}=\\begin{cases} 1/L, & 0 \\leq k \\lt L \\\\ 0, & \\text{otherwise} \\end{cases}"," "),e.yG2(3),e.oRS(" ","\\tag*{}H(\\omega)=\\sum_{k=0}^{L-1}h(k)\\exp(-i k \\omega)"," "),e.yG2(2),e.oRS(" ","\\tag*{(6)}=\\frac{1}{L}\\sum_{k=0}^{L-1}\\exp(-i k \\omega)"," "),e.yG2(3),e.oRS(" ","\\tag*{}\\sum_{k=0}^{L-1}x^k = 1 + x + x^2 + \\ldots + x^{L-1}"," "),e.yG2(3),e.cNF("1-x"),e.yG2(3),e.oRS(" ","\\tag*{}(1-x)\\sum_{k=0}^{L-1}x^k = (1-x)(1 + x + x^2 + \\ldots + x^{L-1})"," "),e.yG2(2),e.oRS(" ","\\tag*{}= 1 + x + x^2 + \\ldots + x^{L-1} - x - x^2 - \\ldots - x^{L-1} - x^L"," "),e.yG2(2),e.oRS(" ","\\tag*{}= 1 - x^L"," "),e.yG2(3),e.oRS(" ","\\tag*{}\\sum_{k=0}^{L-1}x^k = \\begin{cases} (1-x^L)/(1-x), & x \\neq 1 \\\\ L, & x = 1 \\end{cases}"," "),e.yG2(3),e.oRS(" ","\\tag*{(7)}H(\\omega)=\\frac{1}{L}\\frac{1 - \\exp(-i\\omega L)}{1 - \\exp(-i \\omega)}"," "),e.yG2(3),e.cNF("x = \\exp(-i \\omega)"),e.yG2(3),e.cNF("\\omega = 0"),e.yG2(3),e.oRS(" ","\\tag*{}\\lim_{x\\to x_0}{[\\frac{f(x)}{g(x)}]}=\\frac{f'(x_0)}{g'(x_0)}"," "),e.yG2(3),e.oRS(" ","\\tag*{}\\lim_{\\omega\\to 0}{H(\\omega)}=\\frac{1}{L}\\lim_{\\omega\\to 0}{\\frac{1 - \\exp(-i\\omega L)}{1 - \\exp(-i \\omega)}}"," "),e.yG2(2),e.oRS(" ","\\tag*{}\\overset{\\left[\\frac{0}{0}\\right]}{\\underset{\\mathrm{H}}{=}}\\ \\frac{1}{L}\\lim_{\\omega\\to 0}{\\frac{iL\\exp(-i\\omega L)}{i\\exp(-i \\omega)}}"," "),e.yG2(2),e.oRS(" ","\\tag*{}=\\frac{1}{L}\\frac{iL}{i} = 1"," "),e.yG2(3),e.cNF("H(\\omega)"),e.yG2(3),e.oRS(" ","\\tag*{}\\exp(-i\\omega L)=\\cos(\\omega L) - i\\cdot\\sin{\\omega L} = 1"," "),e.yG2(2),e.oRS(" ","\\tag*{}\\omega L=2\\pi m\\quad m=1,2,3,\\ldots"," "),e.yG2(2),e.oRS(" ","\\tag*{}\\omega=\\frac{2\\pi m}{L}"," "),e.yG2(3),e.cNF("H(\\omega)"),e.yG2(3),e.oRS(" ","\\tag*{(8)}\\tau=\\frac{2\\pi}{\\omega}=\\frac{2\\pi L}{2\\pi m} = L/m,\\quad m=1,2,3,\\ldots"," "),e.yG2(3),e.cNF("\\exp(i\\theta)-\\exp(-i\\theta)"),e.yG2(3),e.oRS(" ","\\tag*{}\\exp(i\\theta)-\\exp(-i\\theta)"," "),e.yG2(2),e.oRS(" ","\\tag*{}=\\cos(\\theta)+i\\cdot\\sin(\\theta)-\\cos(-\\theta)- i\\cdot\\sin(-\\theta)"," "),e.yG2(2),e.oRS(" ","\\tag*{}=\\cos(\\theta)+i\\cdot\\sin(\\theta)-\\cos(\\theta)+i\\cdot\\sin(\\theta)"," "),e.yG2(2),e.oRS(" ","\\tag*{}=2i\\cdot\\sin(\\theta)"," "),e.yG2(3),e.oRS(" ","\\tag*{}H(\\omega)=\\frac{1}{L}\\frac{1 - \\exp(-i\\omega L)}{1 - \\exp(-i \\omega)}"," "),e.yG2(2),e.oRS(" ","\\tag*{}=\\frac{1}{L}\\frac{\\exp(-i\\omega L/2)}{\\exp(-i\\omega/2)}\\frac{\\exp(i\\omega L/2) - \\exp(-i\\omega L/2)}{\\exp(i\\omega/2) - \\exp(-i\\omega/2)}"," "),e.yG2(2),e.oRS(" ","\\tag*{}=\\frac{1}{l}\\frac{\\exp(-i\\omega L/2)}{\\exp(-i\\omega/2)}\\frac{2i\\sin(\\omega L/2)}{2i\\sin(\\omega /2)}"," "),e.yG2(2),e.oRS(" ","\\tag*{(9)}=\\frac{\\exp(-i\\omega\\frac{L-1}{2})}{L}\\frac{\\sin(\\omega L/2)}{\\sin(\\omega /2)}"," "),e.yG2(3),e.cNF("H(\\omega)"),e.yG2(3),e.oRS(" ","\\tag*{}|H(\\omega)|=\\left|\\frac{\\exp(-i\\omega\\frac{L-1}{2})}{L}\\frac{\\sin(\\omega L/2)}{\\sin(\\omega /2)}\\right|"," "),e.yG2(2),e.oRS(" ","\\tag*{(10)}=\\frac{1}{L}\\frac{|\\sin(\\omega L/2)|}{|\\sin(\\omega /2)|}"," "),e.yG2(3),e.cNF("\\omega"),e.yG2(3),e.cNF("\\omega=2\\pi/\\tau"),e.yG2(3),e.oRS(" ","\\tag*{(11)}|H(\\tau)|=\\frac{1}{L}\\frac{|\\sin(\\pi L/\\tau)|}{|\\sin(\\pi /\\tau)|}"," "),e.yG2(3),e.oRS(" ","\\tag*{(12)}\\phi(\\omega)=\\arg(H(\\omega))=-\\frac{L-1}{2}\\omega"," "),e.yG2(2),e.oRS(" ","\\tag*{(13)}\\phi(\\tau)=-\\pi\\frac{L-1}{\\tau}"," "),e.yG2(3),e.cNF("\\omega"),e.yG2(3),e.oRS(" ","\\tag*{(14)}bar\\ lag=\\frac{\\phi(\\omega)}{\\omega}=-\\frac{L-1}{2}"," "))},dependencies:[g.u_,d.ot,d.O4,d.ue,d.Gu,d._t,d._G,O.Up,O.w5,b.yi,u.qL,f._s,f.nm,f.CM,I.cP,s.wvz,s.aXd,s.m49,s.M1E,A.U,s.ay5,M],styles:[".ohlcv-chart-study[_ngcontent-%COMP%]{margin:0;padding:0}.button[_ngcontent-%COMP%]{margin-right:8px}.slide-toggle[_ngcontent-%COMP%]{float:right;margin:0 8px 0 0}.icon[_ngcontent-%COMP%]{vertical-align:bottom}"],changeDetection:0})}return n})()},{path:"**",redirectTo:""}];let K=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.a4G({type:n});static#a=this.\u0275inj=e.s3X({imports:[_.qQ.forChild(U),_.qQ]})}return n})(),j=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.a4G({type:n});static#a=this.\u0275inj=e.s3X({imports:[g.MD,d.y,O.wb,b.cN,E.oJ,u.oB,f.CU,I.GE,v.CQ,s._09,s.uGV,s.opz,s.yqe,s.wHW,s.MTp,s.a4T,L.G,s.Gaf,K]})}return n})()}}]);