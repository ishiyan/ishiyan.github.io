"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[522],{8522:(j,T,m)=>{m.r(T),m.d(T,{WmaModule:()=>E});var g=m(6814),u=m(6223),q=m(9157),A=m(2032),w=m(2296),p=m(617),d=m(3305),b=m(2599),O=m(3176),o=m(3751),P=m(5501),k=m(1896),x=m(9383),e=m(5879),S=m(3367);function J(a,r){if(1&a){const i=e.EpF();e.TgZ(0,"mb-line-style-selector",3),e.NdJ("selectionChange",function(t){e.CHM(i);const s=e.oxw();return e.KtG(s.updateStyle(t))}),e.qZA()}if(2&a){const i=e.oxw();e.Q6J("initial",i.current.style)("label","Line")}}let N=(()=>{var a;class r{constructor(){this.removed=new e.vpe,this.changed=new e.vpe}set initial(n){this.current=n}updateStyle(n){this.current.style=n,this.changed.emit(this.current)}updateParams(n){this.current.params=n,this.changed.emit(this.current)}remove(){this.removed.emit(this.current)}}return(a=r).\u0275fac=function(n){return new(n||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-wma-params"]],inputs:{initial:"initial"},outputs:{removed:"removed",changed:"changed"},decls:6,vars:2,consts:[["mat-icon-button","","color","warn",3,"click"],[3,"initial","selectionChange"],[3,"initial","label","selectionChange",4,"ngIf"],[3,"initial","label","selectionChange"]],template:function(n,t){1&n&&(e.TgZ(0,"div")(1,"button",0),e.NdJ("click",function(){return t.remove()}),e.TgZ(2,"mat-icon"),e._uU(3,"delete"),e.qZA()(),e.TgZ(4,"mb-weighted-moving-average-params",1),e.NdJ("selectionChange",function(l){return t.updateParams(l)}),e.qZA(),e.YNc(5,J,1,2,"mb-line-style-selector",2),e.qZA()),2&n&&(e.xp6(4),e.Q6J("initial",t.current.params),e.xp6(1),e.Q6J("ngIf",t.current.showStyle))},dependencies:[g.O5,w.RK,p.Hw,o.FDJ,o.zoJ],changeDetection:0}),r})();function F(a,r){if(1&a){const i=e.EpF();e.TgZ(0,"app-wma-params",2),e.NdJ("changed",function(t){e.CHM(i);const s=e.oxw();return e.KtG(s.updated(t))})("removed",function(t){e.CHM(i);const s=e.oxw();return e.KtG(s.removed(t))}),e.qZA()}2&a&&e.Q6J("initial",r.$implicit)}const I=()=>{const a=new o.TD4;return a.color="",a.width=1.5,a.dash="",a.interpolation="camullRom",a},y=(a,r,i)=>({params:{length:r,barComponent:i},style:I(),showStyle:a});let Q=(()=>{var a;class r{constructor(){this.changed=new e.vpe,this.wmaArray=[],this.colorArray=["#ff0000"],this.initialized=!1}set initial(n){const t=[];for(let s=0;s<n.length.length;s++){const l=y(n.showStyle,n.length[s],n.barComponent);l.style.color=this.colorArray[s%this.colorArray.length],t.push(l)}this.wmaArray=t,this.defaultBarComponent=n.barComponent}set colors(n){if(n&&n.length>0){const t=[];this.colorArray=n;for(let s=0;s<this.wmaArray.length;s++){const l={...this.wmaArray[s]};l.style.color=n[s%n.length],t.push(l)}this.wmaArray=t}}ngAfterViewInit(){this.initialized=!0,this.changed.emit(this.wmaArray)}add(){const n=this.getShowStyle(),t=y(n,this.getLastLength()+5,this.defaultBarComponent);n&&(t.style.color=this.colorArray[this.wmaArray.length%this.colorArray.length]),this.wmaArray.push(t),this.wmaArray=[...this.wmaArray],this.notify()}updated(n){this.getIndex(n)>=0&&this.notify()}removed(n){const t=this.getIndex(n);t>=0&&(this.wmaArray.splice(t,1),this.wmaArray=[...this.wmaArray],this.notify())}getLastLength(){const n=this.wmaArray.length-1;return n<0?0:this.wmaArray[n].params.length}getShowStyle(){return!(this.wmaArray.length<=0)&&this.wmaArray[0].showStyle}getIndex(n){for(let t=0;t<this.wmaArray.length;t++)if(this.wmaArray[t]===n)return t;return-1}notify(){this.initialized&&this.changed.emit(this.wmaArray)}}return(a=r).\u0275fac=function(n){return new(n||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-wma-list"]],inputs:{initial:"initial",colors:"colors"},outputs:{changed:"changed"},decls:5,vars:1,consts:[[3,"initial","changed","removed",4,"ngFor","ngForOf"],["mat-mini-fab","","color","primary",3,"click"],[3,"initial","changed","removed"]],template:function(n,t){1&n&&(e.YNc(0,F,1,1,"app-wma-params",0),e.TgZ(1,"div")(2,"button",1),e.NdJ("click",function(){return t.add()}),e.TgZ(3,"mat-icon"),e._uU(4,"add"),e.qZA()()()),2&n&&e.Q6J("ngForOf",t.wmaArray)},dependencies:[g.sg,w.nh,p.Hw,N]}),r})();function H(a,r){if(1&a){const i=e.EpF();e.TgZ(0,"mat-expansion-panel",14)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon"),e._uU(4,"tune"),e.qZA()()(),e.TgZ(5,"mb-swatches-select",15),e.NdJ("selectionChange",function(t){e.CHM(i);const s=e.oxw();return e.KtG(s.indicatorPaletteChanged(t))}),e.qZA(),e.TgZ(6,"app-wma-list",16),e.NdJ("changed",function(t){e.CHM(i);const s=e.oxw();return e.KtG(s.indicatorsChanged(t))}),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("selected",i.selectedIndex)("colors",i.palettes)("label","Palette"),e.xp6(1),e.Q6J("initial",i.initialIndicators)("colors",i.selectedPalette)}}function z(a,r){if(1&a&&(e.TgZ(0,"span")(1,"a",17),e._uU(2),e.qZA()()),2&a){const i=e.oxw();e.xp6(1),e.s9C("href",i.dataSelection.url,e.LSH),e.xp6(1),e.Oqu(i.dataSelection.urlName)}}function D(a,r){if(1&a){const i=e.EpF();e.TgZ(0,"mat-expansion-panel",14)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon"),e._uU(4,"tune"),e.qZA()()(),e.TgZ(5,"mat-form-field",18)(6,"mat-label"),e._uU(7,"Max period to display"),e.qZA(),e.TgZ(8,"input",19),e.NdJ("ngModelChange",function(t){e.CHM(i);const s=e.oxw();return e.KtG(s.maxPeriod=t)}),e.qZA()(),e.TgZ(9,"mat-form-field",18)(10,"mat-label"),e._uU(11,"Height"),e.qZA(),e.TgZ(12,"input",20),e.NdJ("ngModelChange",function(t){e.CHM(i);const s=e.oxw();return e.KtG(s.freqsH=t)}),e.qZA()(),e.TgZ(13,"app-wma-list",21),e.NdJ("changed",function(t){e.CHM(i);const s=e.oxw();return e.KtG(s.freqsChanged(t))}),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(8),e.Q6J("ngModel",i.maxPeriod),e.xp6(4),e.Q6J("ngModel",i.freqsH),e.xp6(1),e.Q6J("initial",i.initialFreqs)}}const v=function(a,r,i){return[a,r,i]},_=4096,V=(a,r,i)=>{const n=[],t=(0,o.HMQ)(i);for(const s of a)n.push({time:s.time,value:r.update(t(s))});return n},G=(a,r,i)=>{const n=(0,o.HMQ)(i),t=n(a[0]);for(;!r.isPrimed;)r.update(t);const s=[];for(const l of a)s.push({time:l.time,value:r.update(n(l))});return s},Y=[{path:"",component:(()=>{var a;class r{constructor(){this.indicators=[],this.initialized=!1,this.selectedIndex=0,this.initialIndicators={length:[5,10,20],barComponent:o.R2K.Median,showStyle:!0},this.initialFreqs={length:[5,10,20],showStyle:!1},this.palettes=(0,o.$rL)(this.initialIndicators.length.length),this.selectedPalette=this.palettes[this.selectedIndex],this.smaNote=x.Et,this.wmaNote=x.kd,this.froaiNote=x.rI,this.freqs=[],this.freqsMaxPeriod=40,this.freqsHeight=300,this.unlocked=!0,this.dataStepUp=(0,o.TYA)(10,32,90,96,1),this.dataStepDn=(0,o.TYA)(90,32,10,96,1),this.wma5=o.Z7F.calculate(_,new o._wg({length:5}),10),this.wma10=o.Z7F.calculate(_,new o._wg({length:10}),20),this.wma20=o.Z7F.calculate(_,new o._wg({length:20}),40)}get maxPeriod(){return this.freqsMaxPeriod}set maxPeriod(n){(!n||n<2)&&(n=2),this.freqsMaxPeriod=n,this.freqs.length>0&&(this.freqs=[...this.freqs])}get freqsH(){return this.freqsHeight}set freqsH(n){this.freqsHeight=n,this.freqs.length>0&&(this.freqs=[...this.freqs])}get unLocked(){return this.unlocked}set unLocked(n){this.unlocked=n,this.render()}ngAfterViewInit(){this.initialized=!0,this.unlocked=!1,this.render()}indicatorPaletteChanged(n){this.selectedIndex=this.palettes.indexOf(n),this.selectedPalette=n}indicatorsChanged(n){const t=n.length>2?n.length:2;t!==this.selectedPalette.length&&(this.palettes=(0,o.$rL)(t),this.selectedIndex>=t&&(this.selectedIndex=0),this.selectedPalette=this.palettes[this.selectedIndex]),this.indicators=n,this.render()}freqsChanged(n){const t=[];for(const s of n){const l=s.params.length,h=o.Z7F.calculate(_,new o._wg({length:l}),2*l);t.push(h)}this.freqs=t}dataSelectionChanged(n){this.dataSelection=n,this.render()}render(){this.initialized&&(this.configuration=this.prepareConfig(this.dataSelection.mnemonic,this.dataSelection.data,!1),this.configurationStepUp=this.prepareConfig("",this.dataStepUp,!0),this.configurationStepDn=this.prepareConfig("",this.dataStepDn,!0))}prepareConfig(n,t,s){const l={width:"100%",widthMin:360,navigationPane:{height:30,heightMin:30,heightMax:30,hasLine:!1,hasArea:!0,hasTimeAxis:!1,timeTicks:0},heightNavigationPane:30,timeAnnotationFormat:"%Y-%m-%d",axisLeft:!0,axisRight:!1,margin:{left:0,top:10,right:20,bottom:0},ohlcv:{name:"",data:[],candlesticks:!1},pricePane:{height:"30%",heightMin:300,heightMax:800,valueMarginPercentageFactor:.01,valueFormat:",.2f",bands:[],lineAreas:[],horizontals:[],arrows:[],lines:[]},indicatorPanes:[],crosshair:!1,volumeInPricePane:!1,menuVisible:!0,downloadSvgVisible:!0};l.menuVisible=this.unlocked,l.ohlcv.name=n,l.ohlcv.data=t;for(const h of this.indicators){const W=h.params.barComponent?h.params.barComponent:o.R2K.Close,U=new o._wg(h.params),c=new o.ha4;c.name=U.getMnemonic(),c.data=s?G(t,U,W):V(t,U,W);const Z=h.style;c.color=Z.color,c.width=Z.width,c.dash=Z.dash,c.interpolation=Z.interpolation,l.pricePane.lines.push(c)}return l}}return(a=r).\u0275fac=function(n){return new(n||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-ind-wma"]],decls:209,vars:95,consts:[[1,"slide-toggle",3,"color","ngModel","ngModelChange"],[1,"icon"],["label","",3,"selectionChange"],[1,"figwide"],[1,"ohlcv-chart-study",3,"configuration"],["expanded","false","style","margin-bottom: 1em;",4,"ngIf"],[4,"ngIf"],[2,"width","100%"],[1,"figleft"],["src","assets/indicators/wma-weights-5.svg",3,"scaleToContainer"],["src","assets/indicators/sma-weights-5.svg",3,"scaleToContainer"],[3,"href"],[3,"subfig","width","height","ymode","xmode","maxPeriod","data","settingsPanelVisible"],[3,"subfig","width","height","ymode","xmode","data","settingsPanelVisible"],["expanded","false",2,"margin-bottom","1em"],[2,"vertical-align","bottom",3,"selected","colors","label","selectionChange"],[3,"initial","colors","changed"],["target","_blank",3,"href"],["appearance","fill"],["matInput","","type","number","min","8","max","1024","step","1",3,"ngModel","ngModelChange"],["matInput","","type","number","min","100","max","1024","step","1",3,"ngModel","ngModelChange"],[3,"initial","changed"]],template:function(n,t){1&n&&(e.TgZ(0,"h1"),e._uU(1),e.qZA(),e.TgZ(2,"mat-slide-toggle",0),e.NdJ("ngModelChange",function(l){return t.unLocked=l}),e.TgZ(3,"mat-icon",1),e._uU(4,"tune"),e.qZA()(),e.TgZ(5,"app-bar-series-select",2),e.NdJ("selectionChange",function(l){return t.dataSelectionChanged(l)}),e.qZA(),e.TgZ(6,"figure",3),e._UZ(7,"mb-ohlcv-chart",4),e.YNc(8,H,7,5,"mat-expansion-panel",5),e.TgZ(9,"figcaption"),e._uU(10),e.YNc(11,z,3,2,"span",6),e.qZA()(),e._UZ(12,"p"),e.TgZ(13,"div",7)(14,"figure",8),e._uU(15," (a) "),e._UZ(16,"mb-svg-viewer",9),e._uU(17," (b) "),e._UZ(18,"mb-svg-viewer",10),e.TgZ(19,"figcaption"),e._uU(20,"Weighting factors of the (a) WMA and (b) SMA."),e.qZA()(),e._UZ(21,"p"),e._uU(22," A Weighted Moving Average (WMA) or, in academic parlance, Linear Weighted Moving Average (LWMA) of length "),e.TgZ(23,"mb-ki"),e._uU(24,"L \\ge 2"),e.qZA(),e._uU(25," is the weighted mean of the last "),e.TgZ(26,"mb-ki"),e._uU(27,"L"),e.qZA(),e._uU(28," observations of a series "),e.TgZ(29,"mb-ki"),e._uU(30),e.qZA(),e._uU(31,", where "),e.TgZ(32,"mb-ki"),e._uU(33),e.qZA(),e._uU(34," is the most recent value and "),e.TgZ(35,"mb-ki"),e._uU(36,"k \\ge L"),e.qZA(),e._uU(37,". "),e._UZ(38,"p"),e._uU(39," It is similar to the "),e.TgZ(40,"a",11),e._uU(41,"Simple Moving Average"),e.qZA(),e._uU(42,", but the multiplier weighting coefficients linearly descend from "),e.TgZ(43,"mb-ki"),e._uU(44,"L"),e.qZA(),e._uU(45," at the last to "),e.TgZ(46,"mb-ki"),e._uU(47,"1"),e.qZA(),e._uU(48," at the first element of the moving average window, so the earlier samples have less impact on the WMA. "),e.TgZ(49,"mb-kd"),e._uU(50),e.qZA(),e._uU(51," The sum of the data and the weighting coefficient products is divided by the sum of the weighting coefficients to normalize the averaging process. "),e._UZ(52,"p"),e._uU(53," The WMA has a reduced lag which results from the most recent data being the most heavily weighted. The WMA coefficient values form a triangle across the width of the moving average window, resulting a center of the gravity being "),e.TgZ(54,"mb-ki"),e._uU(55),e.qZA(),e._uU(56," across the window. That is, the bar lag of the WMA is "),e.TgZ(57,"mb-ki"),e._uU(58),e.qZA(),e._uU(59,". "),e._UZ(60,"p"),e._uU(61," The denominator in the equation (1) is a triangular number: "),e.TgZ(62,"mb-kd"),e._uU(63),e.qZA(),e._uU(64," This can be easily shown using the induction. Assuming that for a certain "),e.TgZ(65,"mb-ki"),e._uU(66),e.qZA(),e.TgZ(67,"mb-kd"),e._uU(68),e.qZA(),e._uU(69," and adding "),e.TgZ(70,"mb-ki"),e._uU(71),e.qZA(),e._uU(72," to the both sides gives "),e.TgZ(73,"mb-kd"),e._uU(74),e.qZA(),e.TgZ(75,"mb-kd"),e._uU(76),e.qZA(),e.TgZ(77,"mb-kd"),e._uU(78),e.qZA(),e._uU(79," Now we can substitute the summation in the denominator of the equation (1) with the triangular number: "),e.TgZ(80,"mb-kd"),e._uU(81),e.qZA(),e.TgZ(82,"mb-kd"),e._uU(83),e.qZA(),e._uU(84," We can write the difference between "),e.TgZ(85,"mb-ki"),e._uU(86),e.qZA(),e._uU(87," and "),e.TgZ(88,"mb-ki"),e._uU(89),e.qZA(),e._uU(90," as "),e.TgZ(91,"mb-kd"),e._uU(92),e.qZA(),e.TgZ(93,"mb-kd"),e._uU(94),e.qZA(),e.TgZ(95,"mb-kd"),e._uU(96),e.qZA(),e.TgZ(97,"mb-kd"),e._uU(98),e.qZA(),e.TgZ(99,"mb-kd"),e._uU(100),e.qZA(),e._uU(101," Denoting "),e.TgZ(102,"mb-kd"),e._uU(103),e.qZA(),e._uU(104," we get "),e.TgZ(105,"mb-kd"),e._uU(106),e.qZA(),e.TgZ(107,"mb-kd"),e._uU(108),e.qZA(),e._uU(109," and "),e.TgZ(110,"mb-kd"),e._uU(111),e.qZA(),e._uU(112," which gives an efficient formula to calculate WMA. "),e._UZ(113,"p"),e._uU(114," The WMA is not primed during the first "),e.TgZ(115,"mb-ki"),e._uU(116),e.qZA(),e._uU(117," updates. "),e._UZ(118,"p"),e._uU(119," From the digital signal processing (DSP) point of view, WMA is a finite impulse response (FIR) filter with the weight coefficients "),e.TgZ(120,"mb-kd"),e._uU(121),e.qZA(),e._uU(122," The filter is finite because only a finite number of "),e.TgZ(123,"mb-ki"),e._uU(124),e.qZA(),e._uU(125," last samples contribute to its value. "),e._UZ(126,"p"),e.qZA(),e.TgZ(127,"h2"),e._uU(128,"Step response"),e.qZA(),e.TgZ(129,"div",7),e._uU(130," The two figures below demonstrate the response to the step-up and step-down data. The transition is clearly not linear. Both responses touch the step data with the lag equal to the length "),e.TgZ(131,"mb-ki"),e._uU(132),e.qZA(),e._uU(133," of the filter. The step-up response doesn't overshoot and the step-down response doesn't undershoot the data. "),e._UZ(134,"p"),e.qZA(),e.TgZ(135,"figure",3),e._UZ(136,"mb-ohlcv-chart",4),e.TgZ(137,"figcaption"),e._uU(138,"Step-up response."),e.qZA()(),e.TgZ(139,"figure",3),e._UZ(140,"mb-ohlcv-chart",4),e.TgZ(141,"figcaption"),e._uU(142,"Step-down response."),e.qZA()(),e._UZ(143,"p"),e.TgZ(144,"h2"),e._uU(145,"Frequency response"),e.qZA(),e.TgZ(146,"div",7),e._uU(147," The figure below shows an amplitude and a phase lag of the unit sample response of an WMA as a function of a period of various signal frequencies. "),e._UZ(148,"p"),e._uU(149," A period is a duration of a cycle in samples. The smallest possible period of a cycle is "),e.TgZ(150,"mb-ki"),e._uU(151),e.qZA(),e._uU(152," samples. To understand this, imagine a cycle of a sinusoid which starts at zero, goes up and peaks at "),e.TgZ(153,"mb-ki"),e._uU(154),e.qZA(),e._uU(155,", continues down and bottoms at "),e.TgZ(156,"mb-ki"),e._uU(157),e.qZA(),e._uU(158,", and then returns back to zero. We need at least two samples (peak and through) to represent a cycle. See more details in the "),e.TgZ(159,"a",11),e._uU(160),e.qZA(),e._uU(161,". "),e._UZ(162,"p"),e.qZA(),e.TgZ(163,"figure",3),e._UZ(164,"mb-frequency-response-chart",12)(165,"mb-frequency-response-chart",12),e.YNc(166,D,14,3,"mat-expansion-panel",5),e.TgZ(167,"figcaption"),e._uU(168,"An amplitude (a) and a phase lag (b) as a function of a period of a cycle."),e.qZA()(),e._UZ(169,"p"),e.TgZ(170,"div",7),e._uU(171," The same charts can be represented as a function of a cycle's frequency. A period ("),e.TgZ(172,"mb-ki"),e._uU(173),e.qZA(),e._uU(174,") is an inverse of the cycle's frequency ("),e.TgZ(175,"mb-ki"),e._uU(176),e.qZA(),e._uU(177,"): "),e.TgZ(178,"mb-ki"),e._uU(179),e.qZA(),e._uU(180,". The smallest period "),e.TgZ(181,"mb-ki"),e._uU(182),e.qZA(),e._uU(183," corresponds to the Nyquist frequency "),e.TgZ(184,"mb-ki"),e._uU(185),e.qZA(),e._uU(186,"which is the highest frequency possible in a signal. Below we use the normalized frequency which has the value of "),e.TgZ(187,"mb-ki"),e._uU(188),e.qZA(),e._uU(189," at the Nyquist frequency. That is, "),e.TgZ(190,"mb-ki"),e._uU(191),e.qZA(),e._uU(192," corresponds to the infinite "),e.TgZ(193,"mb-ki"),e._uU(194),e.qZA(),e._uU(195,", "),e.TgZ(196,"mb-ki"),e._uU(197),e.qZA(),e._uU(198," corresponds to the "),e.TgZ(199,"mb-ki"),e._uU(200),e.qZA(),e._uU(201,".\n"),e.qZA(),e.TgZ(202,"figure",3),e._UZ(203,"mb-frequency-response-chart",13)(204,"mb-frequency-response-chart",13),e.TgZ(205,"figcaption"),e._uU(206,"An amplitude (a) and a phase lag (b) as a function of a normalized frequency of a cycle."),e.qZA()(),e._UZ(207,"p")(208,"div",7)),2&n&&(e.xp6(1),e.Oqu(t.wmaNote.title),e.xp6(1),e.Q6J("color","primary")("ngModel",t.unLocked),e.xp6(5),e.Q6J("configuration",t.configuration),e.xp6(1),e.Q6J("ngIf",t.unlocked),e.xp6(2),e.hij("",t.dataSelection.description,". "),e.xp6(1),e.Q6J("ngIf",t.dataSelection.url),e.xp6(5),e.Q6J("scaleToContainer",!0),e.xp6(2),e.Q6J("scaleToContainer",!0),e.xp6(12),e.Oqu("x_{1},\\, x_{2},\\, x_{3},\\,\\ldots\\,,\\, x_{k}"),e.xp6(3),e.Oqu("x_{k}"),e.xp6(7),e.MGl("href","/",t.smaNote.route,"",e.LSH),e.xp6(10),e.Oqu("\\tag*{(1)}wma_{k}=\\frac{\\sum\\limits_{m=1}^{L}{m x_{k-L+m}}}{\\sum\\limits_{m=1}^{L}{m}}"),e.xp6(5),e.Oqu("\\frac{1}{3}"),e.xp6(3),e.Oqu("\\frac{L}{3}"),e.xp6(5),e.Oqu("\\tag*{(2)}\\sum\\limits_{m=1}^{L}{m}=1+2+\\ldots+L=\\frac{L(L+1)}{2}"),e.xp6(3),e.Oqu("n"),e.xp6(2),e.Oqu("\\tag*{}\\sum\\limits_{m=1}^{n}{m}=\\frac{n(n+1)}{2}"),e.xp6(3),e.Oqu("n+1"),e.xp6(3),e.Oqu("\\tag*{}\\sum\\limits_{m=1}^{n}{m+(n+1)}=\\frac{n(n+1)}{2}+n+1"),e.xp6(2),e.Oqu("\\tag*{}=\\frac{n(n+1)+2n+2}{2}=\\frac{n^2+3n+2}{2}"),e.xp6(2),e.Oqu("\\tag*{}=\\frac{(n+1)(n+2)}{2}"),e.xp6(3),e.Oqu("\\tag*{}wma_{k}=\\frac{2}{L(L+1)}\\sum\\limits_{m=1}^{L}{m x_{k-L+m}}"),e.xp6(2),e.Oqu("\\tag*{(3)}=\\frac{2}{L(L+1)}q_{k},\\, q_{k}=\\sum\\limits_{m=1}^{L}{m x_{k-L+m}}"),e.xp6(3),e.Oqu("q_{k+1}"),e.xp6(3),e.Oqu("q_{k}"),e.xp6(3),e.Oqu("\\tag*{}q_{k+1}-q_{k}=\\sum\\limits_{m=1}^{L}{m x_{k+1-L+m}}-\\sum\\limits_{m=1}^{L}{m x_{k-L+m}}"),e.xp6(2),e.Oqu("\\tag*{}=x_{k-L+2}+2x_{k-L+3}+\\,\\ldots\\,+(L-2)x_{k-1}+(L-1)x_{k}+Lx_{k+1}"),e.xp6(2),e.Oqu("\\tag*{}-x_{k-L+1}-2x_{k-L+2}-3x_{k-L+3}-\\,\\ldots\\,-(L-1)x_{k-1}-Lx_{k}"),e.xp6(2),e.Oqu("\\tag*{}=-x_{k-L+1}-x_{k-L+2}-x_{k-L+3}-\\,\\ldots\\,-x_{k-1}-x_{k}+Lx_{k+1}"),e.xp6(2),e.Oqu("\\tag*{}=Lx_{k+1}-\\sum\\limits_{n=k-L+1}^{k}{x_{n}}"),e.xp6(3),e.Oqu("\\tag*{(4)}s_{k}=\\sum\\limits_{n=k-L+1}^{k}{x_{n}}"),e.xp6(3),e.Oqu("\\tag*{(5)}s_{k+1}=s_{k}+x_{k+1}-x_{k-L+1}"),e.xp6(2),e.Oqu("\\tag*{(6)}q_{k+1}=q_{k}+Lx_{k+1}-s_{k}"),e.xp6(3),e.Oqu("\\tag*{(7)}wma_{k+1}=\\frac{2}{L(L+1)}q_{k+1}"),e.xp6(5),e.Oqu("L-1"),e.xp6(5),e.hij(" ","\\tag*{(8)}w_{k}=\\frac{2k}{L(L+1)},\\ \\forall k=1,\\, 2,\\,\\ldots\\,,\\, L"," "),e.xp6(3),e.Oqu("L"),e.xp6(8),e.Oqu("L"),e.xp6(4),e.Q6J("configuration",t.configurationStepUp),e.xp6(4),e.Q6J("configuration",t.configurationStepDn),e.xp6(11),e.Oqu("2"),e.xp6(3),e.Oqu("1"),e.xp6(3),e.Oqu("-1"),e.xp6(2),e.MGl("href","/",t.froaiNote.route,"",e.LSH),e.xp6(1),e.Oqu(t.froaiNote.title),e.xp6(4),e.Q6J("subfig","(a)")("width","100%")("height",t.freqsH)("ymode","amplitudePct")("xmode","period")("maxPeriod",t.maxPeriod)("data",t.freqs)("settingsPanelVisible",t.unlocked),e.xp6(1),e.Q6J("subfig","(b)")("width","100%")("height",t.freqsH)("ymode","phaseDegUnwrapped")("xmode","period")("maxPeriod",t.maxPeriod)("data",t.freqs)("settingsPanelVisible",t.unlocked),e.xp6(1),e.Q6J("ngIf",t.unlocked),e.xp6(7),e.Oqu("\\tau"),e.xp6(3),e.Oqu("\\nu"),e.xp6(3),e.Oqu("\\tau = \\frac{1}{\\nu}"),e.xp6(3),e.Oqu("\\tau = 2"),e.xp6(3),e.Oqu("\\nu = \\frac{1}{\\tau} = \\frac{1}{2}"),e.xp6(3),e.Oqu("1"),e.xp6(3),e.Oqu("0"),e.xp6(3),e.Oqu("\\tau"),e.xp6(3),e.Oqu("1"),e.xp6(3),e.Oqu("\\tau = 2"),e.xp6(3),e.Q6J("subfig","(a)")("width","100%")("height",200)("ymode","amplitudePct")("xmode","frequency")("data",e.kEZ(87,v,t.wma5,t.wma10,t.wma20))("settingsPanelVisible",t.unlocked),e.xp6(1),e.Q6J("subfig","(b)")("width","100%")("height",200)("ymode","phaseDegUnwrapped")("xmode","frequency")("data",e.kEZ(91,v,t.wma5,t.wma10,t.wma20))("settingsPanelVisible",t.unlocked))},dependencies:[g.O5,u.Fj,u.wV,u.JJ,u.qQ,u.Fd,u.On,q.KE,q.hX,A.Nt,p.Hw,d.ib,d.yz,d.yK,b.Rr,o.GJY,o.JJg,o.mg9,o.kDz,o.T1Q,S.h,o.y29,Q],styles:[".ohlcv-chart-study[_ngcontent-%COMP%]{margin:0;padding:0}.button[_ngcontent-%COMP%]{margin-right:8px}.slide-toggle[_ngcontent-%COMP%]{float:right;margin:0 8px 0 0}.icon[_ngcontent-%COMP%]{vertical-align:bottom}"],changeDetection:0}),r})()},{path:"**",redirectTo:""}];let B=(()=>{var a;class r{}return(a=r).\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[k.Bz.forChild(Y),k.Bz]}),r})(),E=(()=>{var a;class r{}return(a=r).\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[g.ez,u.u5,q.lN,A.c,w.ot,p.Ps,d.To,b.rP,O.N6,o.Fd9,o.hXN,o.ylR,o.U8i,o._km,o.pFz,o.jkk,P.S,o.feT,B]}),r})()}}]);